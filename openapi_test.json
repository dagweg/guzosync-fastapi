{"openapi":"3.1.0","info":{"title":"GuzoSync API","description":"Backend API for GuzoSync transportation system","version":"1.0.0"},"paths":{"/api/accounts/register":{"post":{"tags":["accounts"],"summary":"Register User","operationId":"register_user_api_accounts_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/accounts/login":{"post":{"tags":["accounts"],"summary":"Login","operationId":"login_api_accounts_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/accounts/logout":{"post":{"tags":["accounts"],"summary":"Logout","description":"Logout user (invalidate token)","operationId":"logout_api_accounts_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/accounts/password/reset/request":{"post":{"tags":["accounts"],"summary":"Request Password Reset","operationId":"request_password_reset_api_accounts_password_reset_request_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/accounts/password/reset/confirm":{"post":{"tags":["accounts"],"summary":"Confirm Password Reset","operationId":"confirm_password_reset_api_accounts_password_reset_confirm_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/account/me":{"get":{"tags":["account"],"summary":"Get Current User Info","operationId":"get_current_user_info_api_account_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["account"],"summary":"Update User Info","operationId":"update_user_info_api_account_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/account/notification-settings":{"put":{"tags":["account"],"summary":"Update Notification Settings","operationId":"update_notification_settings_api_account_notification_settings_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateNotificationSettingsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/account/language":{"put":{"tags":["account"],"summary":"Update Preferred Language","operationId":"update_preferred_language_api_account_language_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"language","in":"query","required":true,"schema":{"type":"string","title":"Language"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications":{"get":{"tags":["notifications"],"summary":"Get Notifications","operationId":"get_notifications_api_notifications_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationResponse"},"title":"Response Get Notifications Api Notifications Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/mark-read/{notification_id}":{"post":{"tags":["notifications"],"summary":"Mark Notification Read","operationId":"mark_notification_read_api_notifications_mark_read__notification_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/notifications/broadcast":{"post":{"tags":["notifications"],"summary":"Broadcast Notification","operationId":"broadcast_notification_api_notifications_broadcast_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BroadcastNotificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/config/languages":{"get":{"tags":["config"],"summary":"Get Supported Languages","operationId":"get_supported_languages_api_config_languages_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/buses/{bus_id}":{"get":{"tags":["buses"],"summary":"Get Bus","operationId":"get_bus_api_buses__bus_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/buses/stops":{"get":{"tags":["buses"],"summary":"Get Bus Stops","operationId":"get_bus_stops_api_buses_stops_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"filter_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filter By"}},{"name":"pn","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Pn"}},{"name":"ps","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Ps"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BusStopResponse"},"title":"Response Get Bus Stops Api Buses Stops Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/buses/stops/{bus_stop_id}":{"get":{"tags":["buses"],"summary":"Get Bus Stop","operationId":"get_bus_stop_api_buses_stops__bus_stop_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusStopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/buses/stops/{bus_stop_id}/incoming-buses":{"get":{"tags":["buses"],"summary":"Get Incoming Buses","operationId":"get_incoming_buses_api_buses_stops__bus_stop_id__incoming_buses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SimplifiedTripResponse"},"title":"Response Get Incoming Buses Api Buses Stops  Bus Stop Id  Incoming Buses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/buses/reallocate":{"post":{"tags":["buses"],"summary":"Request Bus Reallocation","operationId":"request_bus_reallocation_api_buses_reallocate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/buses/reallocation/requests":{"get":{"tags":["buses"],"summary":"Get Reallocation Requests","operationId":"get_reallocation_requests_api_buses_reallocation_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/routes/{route_id}":{"get":{"tags":["routes"],"summary":"Get Route","operationId":"get_route_api_routes__route_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/feedback":{"post":{"tags":["feedback"],"summary":"Submit Feedback","operationId":"submit_feedback_api_feedback_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitFeedbackRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["feedback"],"summary":"Get Feedback","operationId":"get_feedback_api_feedback_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackResponse"},"title":"Response Get Feedback Api Feedback Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/trip/feedback":{"post":{"tags":["trip"],"summary":"Submit Trip Feedback","description":"Submit feedback for a trip","operationId":"submit_trip_feedback_api_trip_feedback_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitFeedbackRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["trip"],"summary":"Get Trip Feedback","description":"Get trip feedback","operationId":"get_trip_feedback_api_trip_feedback_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackResponse"},"title":"Response Get Trip Feedback Api Trip Feedback Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/issues/report":{"post":{"tags":["issues"],"summary":"Report Issue","operationId":"report_issue_api_issues_report_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportIncidentRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncidentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/issues":{"get":{"tags":["issues"],"summary":"Get Issues","operationId":"get_issues_api_issues_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IncidentResponse"},"title":"Response Get Issues Api Issues Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/attendance":{"post":{"tags":["attendance"],"summary":"Create Attendance Record","operationId":"create_attendance_record_api_attendance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAttendanceRecordRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceRecordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/attendance/today":{"get":{"tags":["attendance"],"summary":"Get Today Attendance","operationId":"get_today_attendance_api_attendance_today_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AttendanceRecordResponse"},"type":"array","title":"Response Get Today Attendance Api Attendance Today Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/alerts":{"get":{"tags":["alerts"],"summary":"Get Alerts","description":"Get all active alerts","operationId":"get_alerts_api_alerts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlertResponse"},"title":"Response Get Alerts Api Alerts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["alerts"],"summary":"Create Alert","description":"Create a new alert (admin only)","operationId":"create_alert_api_alerts_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAlertRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/alerts/{alert_id}":{"put":{"tags":["alerts"],"summary":"Update Alert","description":"Update an existing alert (admin only)","operationId":"update_alert_api_alerts__alert_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAlertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["alerts"],"summary":"Delete Alert","description":"Delete an alert (admin only)","operationId":"delete_alert_api_alerts__alert_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Alert Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/conversations":{"get":{"tags":["conversations"],"summary":"Get Conversations","description":"Get conversations for current user","operationId":"get_conversations_api_conversations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConversationResponse"},"title":"Response Get Conversations Api Conversations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/conversations/{conversation_id}/messages":{"get":{"tags":["conversations"],"summary":"Get Conversation Messages","description":"Get messages from a conversation","operationId":"get_conversation_messages_api_conversations__conversation_id__messages_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"},"title":"Response Get Conversation Messages Api Conversations  Conversation Id  Messages Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["conversations"],"summary":"Send Message","description":"Send a message to a conversation","operationId":"send_message_api_conversations__conversation_id__messages_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/attendance":{"post":{"tags":["drivers"],"summary":"Create Driver Attendance","description":"Create driver attendance record","operationId":"create_driver_attendance_api_drivers_attendance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAttendanceRecordRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttendanceRecordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/drivers/attendance/today":{"get":{"tags":["drivers"],"summary":"Get Driver Attendance Today","description":"Get driver's attendance records for today","operationId":"get_driver_attendance_today_api_drivers_attendance_today_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AttendanceRecordResponse"},"type":"array","title":"Response Get Driver Attendance Today Api Drivers Attendance Today Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/drivers/incidents":{"post":{"tags":["drivers"],"summary":"Report Driver Incident","description":"Report an incident as a driver","operationId":"report_driver_incident_api_drivers_incidents_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportIncidentRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncidentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["drivers"],"summary":"Get Driver Incidents","description":"Get incidents reported by the driver","operationId":"get_driver_incidents_api_drivers_incidents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IncidentResponse"},"title":"Response Get Driver Incidents Api Drivers Incidents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/route-change-requests":{"post":{"tags":["drivers"],"summary":"Create Route Change Request","description":"Create a route change request","operationId":"create_route_change_request_api_drivers_route_change_requests_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteChangeRequestRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteChangeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["drivers"],"summary":"Get Driver Route Change Requests","description":"Get driver's route change requests","operationId":"get_driver_route_change_requests_api_drivers_route_change_requests_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RouteChangeResponse"},"title":"Response Get Driver Route Change Requests Api Drivers Route Change Requests Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/schedules":{"get":{"tags":["drivers"],"summary":"Get Driver Schedules","description":"Get driver's schedules","operationId":"get_driver_schedules_api_drivers_schedules_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Driver Schedules Api Drivers Schedules Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/drivers/routes/{route_id}/schedule":{"get":{"tags":["drivers"],"summary":"Get Route Schedule","description":"Get schedule for a specific route","operationId":"get_route_schedule_api_drivers_routes__route_id__schedule_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Route Schedule Api Drivers Routes  Route Id  Schedule Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/instructions":{"get":{"tags":["drivers"],"summary":"Get Driver Instructions","description":"Get instructions for the driver","operationId":"get_driver_instructions_api_drivers_instructions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InstructionResponse"},"title":"Response Get Driver Instructions Api Drivers Instructions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/drivers/instructions/{instruction_id}/acknowledge":{"put":{"tags":["drivers"],"summary":"Acknowledge Instruction","description":"Acknowledge an instruction","operationId":"acknowledge_instruction_api_drivers_instructions__instruction_id__acknowledge_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"instruction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Instruction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/regulators/bus-stops/{bus_stop_id}":{"get":{"tags":["regulators"],"summary":"Get Regulator Bus Stop","description":"Get bus stop information for regulators","operationId":"get_regulator_bus_stop_api_regulators_bus_stops__bus_stop_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusStopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/register":{"post":{"tags":["control-center"],"summary":"Register Personnel","description":"Register new personnel (admin only)","operationId":"register_personnel_api_control_center_personnel_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/control-center/personnel/queue-regulators":{"get":{"tags":["control-center"],"summary":"Get Queue Regulators","description":"Get all queue regulators","operationId":"get_queue_regulators_api_control_center_personnel_queue_regulators_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get Queue Regulators Api Control Center Personnel Queue Regulators Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/queue-regulators/{regulator_id}":{"get":{"tags":["control-center"],"summary":"Get Queue Regulator","description":"Get specific queue regulator","operationId":"get_queue_regulator_api_control_center_personnel_queue_regulators__regulator_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"regulator_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Regulator Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["control-center"],"summary":"Update Queue Regulator","description":"Update queue regulator","operationId":"update_queue_regulator_api_control_center_personnel_queue_regulators__regulator_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"regulator_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Regulator Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Update Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["control-center"],"summary":"Delete Queue Regulator","description":"Delete queue regulator","operationId":"delete_queue_regulator_api_control_center_personnel_queue_regulators__regulator_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"regulator_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Regulator Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/queue-regulators/{regulator_id}/assign/bus-stop/{bus_stop_id}":{"put":{"tags":["control-center"],"summary":"Assign Regulator To Bus Stop","description":"Assign regulator to a bus stop","operationId":"assign_regulator_to_bus_stop_api_control_center_personnel_queue_regulators__regulator_id__assign_bus_stop__bus_stop_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"regulator_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Regulator Id"}},{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/bus-drivers":{"get":{"tags":["control-center"],"summary":"Get Bus Drivers","description":"Get all bus drivers","operationId":"get_bus_drivers_api_control_center_personnel_bus_drivers_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get Bus Drivers Api Control Center Personnel Bus Drivers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/bus-drivers/{driver_id}":{"get":{"tags":["control-center"],"summary":"Get Bus Driver","description":"Get specific bus driver","operationId":"get_bus_driver_api_control_center_personnel_bus_drivers__driver_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Driver Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["control-center"],"summary":"Update Bus Driver","description":"Update bus driver","operationId":"update_bus_driver_api_control_center_personnel_bus_drivers__driver_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Driver Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Update Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["control-center"],"summary":"Delete Bus Driver","description":"Delete bus driver","operationId":"delete_bus_driver_api_control_center_personnel_bus_drivers__driver_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Driver Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/personnel/bus-drivers/{driver_id}/assign-bus/{bus_id}":{"put":{"tags":["control-center"],"summary":"Assign Driver To Bus","description":"Assign driver to a bus","operationId":"assign_driver_to_bus_api_control_center_personnel_bus_drivers__driver_id__assign_bus__bus_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"driver_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Driver Id"}},{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/bus-stops":{"post":{"tags":["control-center"],"summary":"Create Bus Stop","description":"Create a new bus stop","operationId":"create_bus_stop_api_control_center_bus_stops_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBusStopRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusStopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["control-center"],"summary":"Get Control Center Bus Stops","description":"Get all bus stops for management","operationId":"get_control_center_bus_stops_api_control_center_bus_stops_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BusStopResponse"},"title":"Response Get Control Center Bus Stops Api Control Center Bus Stops Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/bus-stops/{bus_stop_id}":{"get":{"tags":["control-center"],"summary":"Get Control Center Bus Stop","description":"Get specific bus stop for management","operationId":"get_control_center_bus_stop_api_control_center_bus_stops__bus_stop_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusStopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["control-center"],"summary":"Update Control Center Bus Stop","description":"Update bus stop","operationId":"update_control_center_bus_stop_api_control_center_bus_stops__bus_stop_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBusStopRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusStopResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["control-center"],"summary":"Delete Control Center Bus Stop","description":"Delete bus stop","operationId":"delete_control_center_bus_stop_api_control_center_bus_stops__bus_stop_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_stop_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Stop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/buses":{"get":{"tags":["control-center"],"summary":"Get Control Center Buses","description":"Get all buses for management","operationId":"get_control_center_buses_api_control_center_buses_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BusResponse"},"title":"Response Get Control Center Buses Api Control Center Buses Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/buses/{bus_id}":{"get":{"tags":["control-center"],"summary":"Get Control Center Bus","description":"Get specific bus for management","operationId":"get_control_center_bus_api_control_center_buses__bus_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["control-center"],"summary":"Update Control Center Bus","description":"Update bus","operationId":"update_control_center_bus_api_control_center_buses__bus_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBusRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/buses/{bus_id}/assign-route/{route_id}":{"put":{"tags":["control-center"],"summary":"Assign Bus To Route","description":"Assign bus to a route","operationId":"assign_bus_to_route_api_control_center_buses__bus_id__assign_route__route_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}},{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/buses/{bus_id}/reallocate-route/{route_id}":{"put":{"tags":["control-center"],"summary":"Reallocate Bus Route","description":"Reallocate bus to a different route","operationId":"reallocate_bus_route_api_control_center_buses__bus_id__reallocate_route__route_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bus_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bus Id"}},{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/buses/deploy-stationary":{"post":{"tags":["control-center"],"summary":"Deploy Stationary Bus","description":"Deploy a stationary bus","operationId":"deploy_stationary_bus_api_control_center_buses_deploy_stationary_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Deployment Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/control-center/routes":{"post":{"tags":["control-center"],"summary":"Create Control Center Route","description":"Create a new route","operationId":"create_control_center_route_api_control_center_routes_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRouteRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["control-center"],"summary":"Get Control Center Routes","description":"Get all routes for management","operationId":"get_control_center_routes_api_control_center_routes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RouteResponse"},"title":"Response Get Control Center Routes Api Control Center Routes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/routes/{route_id}":{"get":{"tags":["control-center"],"summary":"Get Control Center Route","description":"Get specific route for management","operationId":"get_control_center_route_api_control_center_routes__route_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["control-center"],"summary":"Update Control Center Route","description":"Update route","operationId":"update_control_center_route_api_control_center_routes__route_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRouteRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["control-center"],"summary":"Delete Control Center Route","description":"Delete route","operationId":"delete_control_center_route_api_control_center_routes__route_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"route_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Route Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/control-center/reallocation-requests":{"get":{"tags":["control-center"],"summary":"Get Reallocation Requests","description":"Get all reallocation requests","operationId":"get_reallocation_requests_api_control_center_reallocation_requests_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payments/initiate":{"post":{"tags":["payments"],"summary":"Initiate Payment","description":"Initiate a payment for a bus ticket","operationId":"initiate_payment_api_payments_initiate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiatePaymentRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiatePaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/payments/authorize":{"post":{"tags":["payments"],"summary":"Authorize Payment","description":"Authorize a payment with OTP or other auth data","operationId":"authorize_payment_api_payments_authorize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizePaymentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorizePaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/payments/verify":{"post":{"tags":["payments"],"summary":"Verify Payment","description":"Verify payment status with Chapa","operationId":"verify_payment_api_payments_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyPaymentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyPaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/payments":{"get":{"tags":["payments"],"summary":"Get User Payments","description":"Get user's payment history","operationId":"get_user_payments_api_payments_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponse"},"title":"Response Get User Payments Api Payments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets":{"get":{"tags":["payments"],"summary":"Get User Tickets","description":"Get user's tickets","operationId":"get_user_tickets_api_tickets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"ticket_status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TicketStatus"},{"type":"null"}],"title":"Ticket Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TicketResponse"},"title":"Response Get User Tickets Api Tickets Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/{ticket_id}":{"get":{"tags":["payments"],"summary":"Get Ticket","description":"Get specific ticket details","operationId":"get_ticket_api_tickets__ticket_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","title":"Ticket Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/{ticket_id}/qr":{"get":{"tags":["payments"],"summary":"Get Ticket Qr","description":"Get ticket QR code","operationId":"get_ticket_qr_api_tickets__ticket_id__qr_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"ticket_id","in":"path","required":true,"schema":{"type":"string","title":"Ticket Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TicketQRResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickets/validate":{"post":{"tags":["payments"],"summary":"Validate Ticket","description":"Validate a ticket (for conductors/drivers)","operationId":"validate_ticket_api_tickets_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateTicketRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateTicketResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/payment-methods":{"get":{"tags":["payments"],"summary":"Get Payment Methods","description":"Get available payment methods","operationId":"get_payment_methods_api_payment_methods_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentMethodResponse"},"title":"Response Get Payment Methods Api Payment Methods Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["payments"],"summary":"Create Payment Method","description":"Create a new payment method (admin only)","operationId":"create_payment_method_api_payment_methods_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentMethodRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payment-methods/{method_id}":{"put":{"tags":["payments"],"summary":"Update Payment Method","description":"Update payment method (admin only)","operationId":"update_payment_method_api_payment_methods__method_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"method_id","in":"path","required":true,"schema":{"type":"string","title":"Method Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePaymentMethodRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/payments/webhook/chapa":{"post":{"tags":["payments"],"summary":"Chapa Webhook","description":"Handle Chapa webhook events","operationId":"chapa_webhook_api_payments_webhook_chapa_post","parameters":[{"name":"x-chapa-signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Chapa-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AlertResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"alert_type":{"$ref":"#/components/schemas/AlertType"},"severity":{"$ref":"#/components/schemas/AlertSeverity"},"affected_routes":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Routes"},"affected_bus_stops":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Bus Stops"},"is_active":{"type":"boolean","title":"Is Active"},"created_by":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Created By","examples":["507f1f77bcf86cd799439011"]}},"type":"object","required":["id","title","message","alert_type","severity","is_active","created_by"],"title":"AlertResponse"},"AlertSeverity":{"type":"string","enum":["LOW","MEDIUM","HIGH","CRITICAL"],"title":"AlertSeverity"},"AlertType":{"type":"string","enum":["TRAFFIC","WEATHER","MAINTENANCE","EMERGENCY","ROUTE_CHANGE","SERVICE_UPDATE"],"title":"AlertType"},"AttendanceRecordResponse":{"properties":{"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"user_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"User Id","examples":["507f1f77bcf86cd799439011"]},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"type":{"$ref":"#/components/schemas/AttendanceType"},"location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]}},"type":"object","required":["id","user_id","timestamp","type"],"title":"AttendanceRecordResponse"},"AttendanceType":{"type":"string","enum":["CHECK_IN","CHECK_OUT"],"title":"AttendanceType"},"AuthorizePaymentRequest":{"properties":{"tx_ref":{"type":"string","title":"Tx Ref"},"otp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Otp"},"auth_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Auth Data"}},"type":"object","required":["tx_ref"],"title":"AuthorizePaymentRequest"},"AuthorizePaymentResponse":{"properties":{"tx_ref":{"type":"string","title":"Tx Ref"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"authorization_completed":{"type":"boolean","title":"Authorization Completed"}},"type":"object","required":["tx_ref","status","message","authorization_completed"],"title":"AuthorizePaymentResponse"},"BroadcastNotificationRequest":{"properties":{"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"type":{"$ref":"#/components/schemas/NotificationType"},"target_user_ids":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Target User Ids"},"target_roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Target Roles"},"related_entity":{"anyOf":[{"$ref":"#/components/schemas/RelatedEntity"},{"type":"null"}]}},"type":"object","required":["title","message","type"],"title":"BroadcastNotificationRequest"},"BusResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"license_plate":{"type":"string","title":"License Plate"},"bus_type":{"$ref":"#/components/schemas/BusType"},"capacity":{"type":"integer","title":"Capacity"},"current_location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"last_location_update":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Location Update"},"heading":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Heading"},"speed":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Speed"},"location_accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Location Accuracy"},"current_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Address"},"assigned_route_id":{"anyOf":[{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},{"type":"null"}],"title":"Assigned Route Id"},"assigned_driver_id":{"anyOf":[{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},{"type":"null"}],"title":"Assigned Driver Id"},"bus_status":{"$ref":"#/components/schemas/BusStatus"},"manufacture_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Manufacture Year"},"bus_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bus Model"}},"type":"object","required":["id","license_plate","bus_type","capacity","bus_status"],"title":"BusResponse"},"BusStatus":{"type":"string","enum":["OPERATIONAL","MAINTENANCE","BREAKDOWN","IDLE"],"title":"BusStatus"},"BusStopResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"name":{"type":"string","title":"Name"},"location":{"$ref":"#/components/schemas/Location"},"capacity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","name","location","is_active"],"title":"BusStopResponse"},"BusType":{"type":"string","enum":["STANDARD","ARTICULATED","MINIBUS"],"title":"BusType"},"ConversationResponse":{"properties":{"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"participants":{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array","title":"Participants"},"last_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message At"}},"type":"object","required":["id","participants"],"title":"ConversationResponse"},"CreateAlertRequest":{"properties":{"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"alert_type":{"$ref":"#/components/schemas/AlertType"},"severity":{"$ref":"#/components/schemas/AlertSeverity"},"affected_routes":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Routes"},"affected_bus_stops":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Bus Stops"}},"type":"object","required":["title","message","alert_type","severity"],"title":"CreateAlertRequest"},"CreateAttendanceRecordRequest":{"properties":{"type":{"$ref":"#/components/schemas/AttendanceType"},"location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]}},"type":"object","required":["type"],"title":"CreateAttendanceRecordRequest"},"CreateBusStopRequest":{"properties":{"name":{"type":"string","title":"Name"},"location":{"$ref":"#/components/schemas/Location"},"capacity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["name","location","is_active"],"title":"CreateBusStopRequest"},"CreatePaymentMethodRequest":{"properties":{"method":{"$ref":"#/components/schemas/PaymentMethod"},"display_name":{"type":"string","title":"Display Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"processing_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee"},"processing_fee_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee Percentage"},"min_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Amount"},"max_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Amount"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["method","display_name"],"title":"CreatePaymentMethodRequest"},"CreateRouteRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"stop_ids":{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array","title":"Stop Ids"},"total_distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Distance"},"estimated_duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Duration"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["name","stop_ids","is_active"],"title":"CreateRouteRequest"},"FeedbackResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"submitted_by_user_id":{"type":"string","format":"uuid","title":"Submitted By User Id"},"content":{"type":"string","title":"Content"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating"},"related_trip_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Trip Id"},"related_bus_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Bus Id"}},"type":"object","required":["id","submitted_by_user_id","content"],"title":"FeedbackResponse"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IncidentResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","format":"uuid","title":"Id"},"reported_by_user_id":{"type":"string","format":"uuid","title":"Reported By User Id"},"description":{"type":"string","title":"Description"},"location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"related_bus_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Bus Id"},"related_route_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Route Id"},"is_resolved":{"type":"boolean","title":"Is Resolved"},"resolution_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resolution Notes"},"severity":{"$ref":"#/components/schemas/IncidentSeverity"}},"type":"object","required":["id","reported_by_user_id","description","is_resolved","severity"],"title":"IncidentResponse"},"IncidentSeverity":{"type":"string","enum":["LOW","MEDIUM","HIGH","CRITICAL"],"title":"IncidentSeverity"},"InitiatePaymentRequest":{"properties":{"amount":{"type":"number","title":"Amount"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod"},"mobile_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mobile Number"},"ticket_type":{"$ref":"#/components/schemas/TicketType"},"origin_stop_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Origin Stop Id"},"destination_stop_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Destination Stop Id"},"route_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Route Id"},"trip_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Trip Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"return_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Return Url"}},"type":"object","required":["amount","payment_method","ticket_type"],"title":"InitiatePaymentRequest"},"InitiatePaymentResponse":{"properties":{"tx_ref":{"type":"string","title":"Tx Ref"},"payment_id":{"type":"string","title":"Payment Id"},"status":{"type":"string","title":"Status"},"auth_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Url"},"message":{"type":"string","title":"Message"},"requires_authorization":{"type":"boolean","title":"Requires Authorization","default":false}},"type":"object","required":["tx_ref","payment_id","status","message"],"title":"InitiatePaymentResponse"},"InstructionResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"instruction_type":{"$ref":"#/components/schemas/InstructionType"},"target_driver_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Target Driver Id","examples":["507f1f77bcf86cd799439011"]},"priority":{"type":"string","title":"Priority"},"acknowledged":{"type":"boolean","title":"Acknowledged"},"acknowledged_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Acknowledged At"}},"type":"object","required":["id","title","content","instruction_type","target_driver_id","priority","acknowledged"],"title":"InstructionResponse"},"InstructionType":{"type":"string","enum":["ROUTE_CHANGE","SPEED_LIMIT","MAINTENANCE","EMERGENCY","GENERAL"],"title":"InstructionType"},"Location":{"properties":{"latitude":{"type":"number","title":"Latitude"},"longitude":{"type":"number","title":"Longitude"}},"type":"object","required":["latitude","longitude"],"title":"Location"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"MessageResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"conversation_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Conversation Id","examples":["507f1f77bcf86cd799439011"]},"sender_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Sender Id","examples":["507f1f77bcf86cd799439011"]},"content":{"type":"string","title":"Content"},"message_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Type","default":"TEXT"},"sent_at":{"type":"string","format":"date-time","title":"Sent At"}},"type":"object","required":["id","conversation_id","sender_id","content","sent_at"],"title":"MessageResponse"},"NotificationResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"user_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"User Id","examples":["507f1f77bcf86cd799439011"]},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"type":{"$ref":"#/components/schemas/NotificationType"},"is_read":{"type":"boolean","title":"Is Read"},"related_entity":{"anyOf":[{"$ref":"#/components/schemas/RelatedEntity"},{"type":"null"}]}},"type":"object","required":["id","user_id","title","message","type","is_read"],"title":"NotificationResponse"},"NotificationSettingsResponse":{"properties":{"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"user_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"User Id","examples":["507f1f77bcf86cd799439011"]},"email_enabled":{"type":"boolean","title":"Email Enabled"}},"type":"object","required":["id","user_id","email_enabled"],"title":"NotificationSettingsResponse"},"NotificationType":{"type":"string","enum":["ALERT","UPDATE","PROMOTION","REMINDER"],"title":"NotificationType"},"PaymentMethod":{"type":"string","enum":["telebirr","mpesa","cbebirr","ebirr","enat_bank"],"title":"PaymentMethod"},"PaymentMethodResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"method":{"$ref":"#/components/schemas/PaymentMethod"},"display_name":{"type":"string","title":"Display Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"processing_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee"},"processing_fee_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee Percentage"},"min_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Amount"},"max_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Amount"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","method","display_name","is_active"],"title":"PaymentMethodResponse"},"PaymentResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"tx_ref":{"type":"string","title":"Tx Ref"},"amount":{"type":"number","title":"Amount"},"currency":{"type":"string","title":"Currency"},"payment_method":{"$ref":"#/components/schemas/PaymentMethod"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"status":{"$ref":"#/components/schemas/PaymentStatus"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"paid_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paid At"},"failed_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Failed Reason"}},"type":"object","required":["id","tx_ref","amount","currency","payment_method","customer_id","status"],"title":"PaymentResponse"},"PaymentStatus":{"type":"string","enum":["PENDING","COMPLETED","FAILED","CANCELLED","REFUNDED"],"title":"PaymentStatus"},"RegisterUserRequest":{"properties":{"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"role":{"type":"string","enum":["PASSENGER","CONTROL_STAFF"],"title":"Role"},"phone_number":{"type":"string","title":"Phone Number"},"profile_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Image"}},"type":"object","required":["first_name","last_name","email","password","role","phone_number"],"title":"RegisterUserRequest"},"RelatedEntity":{"properties":{"entity_type":{"type":"string","title":"Entity Type"},"entity_id":{"type":"string","title":"Entity Id"}},"type":"object","required":["entity_type","entity_id"],"title":"RelatedEntity"},"ReportIncidentRequest":{"properties":{"description":{"type":"string","title":"Description"},"location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"related_bus_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Bus Id"},"related_route_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Route Id"},"severity":{"$ref":"#/components/schemas/IncidentSeverity"}},"type":"object","required":["description","severity"],"title":"ReportIncidentRequest"},"ResetPasswordRequest":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["token","new_password"],"title":"ResetPasswordRequest"},"RouteChangeRequestRequest":{"properties":{"current_route_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Current Route Id","examples":["507f1f77bcf86cd799439011"]},"requested_route_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Requested Route Id","examples":["507f1f77bcf86cd799439011"]},"reason":{"type":"string","title":"Reason"}},"type":"object","required":["current_route_id","requested_route_id","reason"],"title":"RouteChangeRequestRequest"},"RouteChangeResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Id","examples":["507f1f77bcf86cd799439011"]},"driver_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Driver Id","examples":["507f1f77bcf86cd799439011"]},"current_route_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Current Route Id","examples":["507f1f77bcf86cd799439011"]},"requested_route_id":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","title":"Requested Route Id","examples":["507f1f77bcf86cd799439011"]},"reason":{"type":"string","title":"Reason"},"status":{"type":"string","title":"Status"},"requested_at":{"type":"string","format":"date-time","title":"Requested At"},"reviewed_by":{"anyOf":[{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},{"type":"null"}],"title":"Reviewed By"},"reviewed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Reviewed At"},"review_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review Notes"}},"type":"object","required":["id","driver_id","current_route_id","requested_route_id","reason","status","requested_at"],"title":"RouteChangeResponse"},"RouteResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"stop_ids":{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array","title":"Stop Ids"},"total_distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Distance"},"estimated_duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Duration"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","name","stop_ids","is_active"],"title":"RouteResponse"},"SendMessageRequest":{"properties":{"content":{"type":"string","title":"Content"},"message_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Type","default":"TEXT"}},"type":"object","required":["content"],"title":"SendMessageRequest"},"SimplifiedTripResponse":{"properties":{"id":{"type":"string","title":"Id"},"bus_id":{"type":"string","format":"uuid","title":"Bus Id"},"route_id":{"type":"string","format":"uuid","title":"Route Id"},"driver_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Driver Id"},"estimated_arrival_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Estimated Arrival Time"},"status":{"$ref":"#/components/schemas/TripStatus"}},"type":"object","required":["id","bus_id","route_id","status"],"title":"SimplifiedTripResponse"},"SubmitFeedbackRequest":{"properties":{"content":{"type":"string","title":"Content"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating"},"related_trip_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Trip Id"},"related_bus_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Related Bus Id"}},"type":"object","required":["content"],"title":"SubmitFeedbackRequest"},"TicketQRResponse":{"properties":{"ticket_number":{"type":"string","title":"Ticket Number"},"qr_code":{"type":"string","title":"Qr Code"},"qr_image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Image Url"}},"type":"object","required":["ticket_number","qr_code"],"title":"TicketQRResponse"},"TicketResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"ticket_number":{"type":"string","title":"Ticket Number"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"payment_id":{"type":"string","format":"uuid","title":"Payment Id"},"ticket_type":{"$ref":"#/components/schemas/TicketType"},"origin_stop_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Origin Stop Id"},"destination_stop_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Destination Stop Id"},"route_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Route Id"},"trip_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Trip Id"},"status":{"$ref":"#/components/schemas/TicketStatus"},"price":{"type":"number","title":"Price"},"currency":{"type":"string","title":"Currency"},"valid_from":{"type":"string","format":"date-time","title":"Valid From"},"valid_until":{"type":"string","format":"date-time","title":"Valid Until"},"used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Used At"},"qr_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code"}},"type":"object","required":["id","ticket_number","customer_id","payment_id","ticket_type","status","price","currency","valid_from","valid_until"],"title":"TicketResponse"},"TicketStatus":{"type":"string","enum":["ACTIVE","USED","EXPIRED","CANCELLED"],"title":"TicketStatus"},"TicketType":{"type":"string","enum":["SINGLE_TRIP","ROUND_TRIP","DAILY_PASS","WEEKLY_PASS","MONTHLY_PASS"],"title":"TicketType"},"TripStatus":{"type":"string","enum":["SCHEDULED","IN_PROGRESS","COMPLETED","CANCELLED","DELAYED"],"title":"TripStatus"},"UpdateAlertRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"alert_type":{"anyOf":[{"$ref":"#/components/schemas/AlertType"},{"type":"null"}]},"severity":{"anyOf":[{"$ref":"#/components/schemas/AlertSeverity"},{"type":"null"}]},"affected_routes":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Routes"},"affected_bus_stops":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Affected Bus Stops"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateAlertRequest"},"UpdateBusRequest":{"properties":{"license_plate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Plate"},"bus_type":{"anyOf":[{"$ref":"#/components/schemas/BusType"},{"type":"null"}]},"capacity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity"},"current_location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"last_location_update":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Location Update"},"heading":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Heading"},"speed":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Speed"},"location_accuracy":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Location Accuracy"},"current_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Address"},"assigned_route_id":{"anyOf":[{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},{"type":"null"}],"title":"Assigned Route Id"},"assigned_driver_id":{"anyOf":[{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},{"type":"null"}],"title":"Assigned Driver Id"},"bus_status":{"anyOf":[{"$ref":"#/components/schemas/BusStatus"},{"type":"null"}]},"manufacture_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Manufacture Year"},"bus_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bus Model"}},"type":"object","title":"UpdateBusRequest"},"UpdateBusStopRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"location":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"capacity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Capacity"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateBusStopRequest"},"UpdateNotificationSettingsRequest":{"properties":{"email_enabled":{"type":"boolean","title":"Email Enabled"}},"type":"object","required":["email_enabled"],"title":"UpdateNotificationSettingsRequest"},"UpdatePaymentMethodRequest":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"icon_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icon Url"},"processing_fee":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee"},"processing_fee_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Fee Percentage"},"min_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Amount"},"max_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Amount"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdatePaymentMethodRequest"},"UpdateRouteRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"stop_ids":{"anyOf":[{"items":{"type":"string","pattern":"^[a-fA-F0-9]{24}$","examples":["507f1f77bcf86cd799439011"]},"type":"array"},{"type":"null"}],"title":"Stop Ids"},"total_distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Distance"},"estimated_duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Duration"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"UpdateRouteRequest"},"UpdateUserRequest":{"properties":{"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"profile_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Image"}},"type":"object","title":"UpdateUserRequest"},"UserResponse":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"id":{"type":"string","title":"Id"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"email":{"type":"string","format":"email","title":"Email"},"role":{"$ref":"#/components/schemas/UserRole"},"phone_number":{"type":"string","title":"Phone Number"},"profile_image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Image"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","first_name","last_name","email","role","phone_number","is_active"],"title":"UserResponse"},"UserRole":{"type":"string","enum":["PASSENGER","BUS_DRIVER","QUEUE_REGULATOR","CONTROL_STAFF","CONTROL_ADMIN"],"title":"UserRole"},"ValidateTicketRequest":{"properties":{"ticket_number":{"type":"string","title":"Ticket Number"},"trip_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Trip Id"}},"type":"object","required":["ticket_number"],"title":"ValidateTicketRequest"},"ValidateTicketResponse":{"properties":{"ticket_number":{"type":"string","title":"Ticket Number"},"is_valid":{"type":"boolean","title":"Is Valid"},"status":{"$ref":"#/components/schemas/TicketStatus"},"customer_name":{"type":"string","title":"Customer Name"},"ticket_type":{"$ref":"#/components/schemas/TicketType"},"valid_until":{"type":"string","format":"date-time","title":"Valid Until"},"message":{"type":"string","title":"Message"}},"type":"object","required":["ticket_number","is_valid","status","customer_name","ticket_type","valid_until","message"],"title":"ValidateTicketResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifyPaymentRequest":{"properties":{"tx_ref":{"type":"string","title":"Tx Ref"}},"type":"object","required":["tx_ref"],"title":"VerifyPaymentRequest"},"VerifyPaymentResponse":{"properties":{"tx_ref":{"type":"string","title":"Tx Ref"},"status":{"$ref":"#/components/schemas/PaymentStatus"},"amount":{"type":"number","title":"Amount"},"currency":{"type":"string","title":"Currency"},"paid_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paid At"},"chapa_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chapa Reference"}},"type":"object","required":["tx_ref","status","amount","currency"],"title":"VerifyPaymentResponse"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}